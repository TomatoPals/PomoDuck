```yml
language: node_js
node_js: "12"
branches:
  only:
    - master
    - main
cache:
  directories:
    - node_modules
services:
  - mysql
before_install:
  - npm install -g codecov
  - mysql -e 'CREATE DATABASE IF NOT EXISTS testdb;'
script:
  - jest --ci --coverage && codecov
  - codecov